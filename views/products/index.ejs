<% layout("./layouts/boilerplate") -%>
<style>
  .styled-input {
    height: 2rem; /* Smaller height */
    font-size: 1rem; /* Adjust font size */
    padding: 0.5rem; /* Reduced padding for smaller size */
    width: 5rem; /* Smaller width */
    border-radius: 0.25rem; /* Slightly rounded corners */
    text-align: center; /* Centering the number inside */
  }

  .styled-input::-webkit-outer-spin-button,
  .styled-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .input-group .btn {
  height: 2rem; /* Match button height with the input */
  width: 2rem; /* Set width of buttons */
  font-size: 1.25rem; /* Larger font for buttons */
  padding: 0.25rem; /* Padding inside the buttons */
  background-color: transparent; /* Make background transparent */
  border: 1px solid transparent; /* Remove border */
  color: #000; /* Text color */
  box-shadow: none; /* Remove shadow */
  transition: background-color 0.3s, color 0.3s;
}

.input-group .btn:hover {
  background-color: rgba(0, 0, 0, 0.1); /* Light background color on hover */
  color: #000; /* Keep text color visible */
}

</style>

<body>
  <div class="row row-col-lg-3 row-col-md-2 row-col-sm-1 mt-3">
        <% for( let product of products ){ %> 
      
            <div class="card" style="width: 20rem;">
                <a href="/products/<%= product._id %>" class="product-link">
                <img src="<%=product.image%>" class="card-img-top" alt="product-image" style="height: 20rem;">
                <!-- <div class="card-img"></div> -->
                </a>
                <div class="card-body">
                  <h5 class="card-title"><b><%=product.title%></b></h5>
                  <div class="view-btn">
                      <form action="/cart/<%= product._id %>" method="POST">
                        <div class="d-flex align-items-center">
                          <!-- Quantity Controls -->
                          <div class="input-group me-3">
                            <button class="btn btn-transparent decrement" type="button" data-product-id="<%= product._id %>">-</button>
                            <input type="number" name="items[0][quantity]" value="1" min="1" class="form-control styled-input quantity-input" id="quantity-<%= product._id %>" />
                            <button class="btn btn-transparent increment" type="button" data-product-id="<%= product._id %>">+</button>
                          </div>
          
                          <!-- Hidden Product ID -->
                          <input type="text" name="items[0][product]" value="<%= product._id %>" style="display: none;" />
          
                          <!-- Submit Button -->
                          <button type="submit" class="btn btn-secondary">Add to Cart</button>
                        </div>
                    </form>
                  </div>
                </div>  
              </div>

        <% } %>
    </div>
</body>















<!-- <div class="row row-col-lg-3 row-col-md-2 row-col-sm-1 mt-3">
  <% for (let product of products) { %>
    <div class="card" style="width: 20rem;">
      <a href="/products/<%= product.id %>" class="product-link">
        <img src="<%= product.image %>" class="card-img-top" alt="product-image" style="height: 20rem;">
        <div class="card-img-overlay"></div>
      </a>
      <div class="card-body">
        <h5 class="card-title"><b><%= product.title %></b></h5>
        <div class="view-btn">
          Button 1: View Product
          <a class="btn bg-secondary product-link" href="/products/<%= product.id %>">View Product</a>
          Button 2: Add to Cart
          <a class="btn bg-secondary product-link" href="/cart/add/<%= product.id %>">Add to Cart</a>
        </div>
      </div>
    </div>
  <% } %>
</div>   -->


